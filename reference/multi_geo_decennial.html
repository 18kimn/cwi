<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Fetch a decennial census table with multiple geography levels — multi_geo_decennial • cwi</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Fetch a decennial census table with multiple geography levels — multi_geo_decennial" />

<meta property="og:description" content="Fetch a data table from the decennial census via tidycensus with your choice of geographies at multiple levels. For geographies made of aggregates, i.e. neighborhoods made of tracts or regions made of towns, the returned table will have estimates summed and margins of error calculated for the whole area." />

<meta property="og:image" content="https://CT-Data-Haven.github.io/cwi/logo.png" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cwi</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/basic-workflow.html">Basic workflow</a>
    </li>
    <li>
      <a href="../articles/shapefiles.html">Shapefiles</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/CT-Data-Haven/cwi">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Fetch a decennial census table with multiple geography levels</h1>
    <small class="dont-index">Source: <a href='https://github.com/CT-Data-Haven/cwi/blob/master/R/multi_geo_decennial.R'><code>R/multi_geo_decennial.R</code></a></small>
    <div class="hidden name"><code>multi_geo_decennial.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Fetch a data table from the decennial census via <code>tidycensus</code> with your choice of geographies at multiple levels. For geographies made of aggregates, i.e. neighborhoods made of tracts or regions made of towns, the returned table will have estimates summed and margins of error calculated for the whole area.</p>
    
    </div>

    <pre class="usage"><span class='fu'>multi_geo_decennial</span>(<span class='no'>table</span>, <span class='kw'>year</span> <span class='kw'>=</span> <span class='fl'>2010</span>, <span class='kw'>neighborhoods</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>towns</span> <span class='kw'>=</span> <span class='st'>"all"</span>, <span class='kw'>regions</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>counties</span> <span class='kw'>=</span> <span class='st'>"all"</span>, <span class='kw'>state</span> <span class='kw'>=</span> <span class='st'>"09"</span>,
  <span class='kw'>tracts</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>sumfile</span> <span class='kw'>=</span> <span class='st'>"sf1"</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>table</th>
      <td><p>A string giving the decennial census table number. These are generally formatted as one or more letters, 3 numbers, and optionally a letter.</p></td>
    </tr>
    <tr>
      <th>year</th>
      <td><p>The year of the census table; currently defaults 2010 (most recent decennial census).</p></td>
    </tr>
    <tr>
      <th>neighborhoods</th>
      <td><p>Temporarily deprecated: A named list of neighborhoods with their 11-digit tract GEOIDs (defaults NULL).</p></td>
    </tr>
    <tr>
      <th>towns</th>
      <td><p>A character vector of towns to include; <code>"all"</code> (default) for all towns optionally filtered by county; or <code>NULL</code> to not fetch town-level table.</p></td>
    </tr>
    <tr>
      <th>regions</th>
      <td><p>A named list of regions with their town names (defaults <code>NULL</code>).</p></td>
    </tr>
    <tr>
      <th>counties</th>
      <td><p>A character vector of counties to include; <code>"all"</code> (default) for all counties in the state; or <code>NULL</code> to not fetch county-level table.</p></td>
    </tr>
    <tr>
      <th>state</th>
      <td><p>A string: either name or two-digit FIPS code of a US state. Required; defaults <code>"09"</code> (Connecticut).</p></td>
    </tr>
    <tr>
      <th>tracts</th>
      <td><p>A character vector of 11-digit FIPS codes of tracts to include, or <code>"all"</code> for all tracts optionally filtered by county. Defaults <code>NULL</code>.</p></td>
    </tr>
    <tr>
      <th>sumfile</th>
      <td><p>A string giving the summary file to pull from. Defaults <code>"sf1"</code>; in some rare cases, <code>"sf3"</code> may be appropriate.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Logical: whether to print summary of geographies included. Defaults <code>TRUE</code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A tibble with GEOID, name, variable code, estimate, moe, geography level, state, and year, as applicable, for the chosen table.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function essentially calls <code><a href='https://www.rdocumentation.org/packages/tidycensus/topics/get_decennial'>tidycensus::get_decennial()</a></code> multiple times, depending on geographic levels chosen, and does minor cleaning, filtering, and aggregation. Note that the underlying <code><a href='https://www.rdocumentation.org/packages/tidycensus/topics/get_decennial'>tidycensus::get_decennial()</a></code> requires a Census API key. As is the case with other <code>tidycensus</code> functions, <code>multi_geo_decennial</code> assumes this key is stored as <code>CENSUS_API_KEY</code> in your <code>.Renviron</code>. See <code><a href='https://www.rdocumentation.org/packages/tidycensus/topics/census_api_key'>tidycensus::census_api_key()</a></code> for installation.</p>
<p>Be advised that decennial table numbers may change from year to year, so if you're looking at trends, check FactFinder or another source to make sure the tables have the same meaning. Setting <code>verbose = TRUE</code> is helpful for this as well.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='https://www.rdocumentation.org/packages/tidycensus/topics/census_api_key'>tidycensus::census_api_key()</a></code>, <code><a href='https://www.rdocumentation.org/packages/tidycensus/topics/get_decennial'>tidycensus::get_decennial()</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>multi_geo_decennial</span>(<span class='st'>"P001"</span>, <span class='fl'>2016</span>,
  <span class='kw'>neighborhoods</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>(<span class='kw'>downtown</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"09009140100"</span>, <span class='st'>"09009361401"</span>, <span class='st'>"09009361402"</span>),
    <span class='kw'>dixwell</span> <span class='kw'>=</span> <span class='st'>"090091416"</span>),
  <span class='kw'>towns</span> <span class='kw'>=</span> <span class='st'>"all"</span>,
  <span class='kw'>regions</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>(<span class='kw'>inner_ring</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"Hamden"</span>, <span class='st'>"East Haven"</span>, <span class='st'>"West Haven"</span>)),
  <span class='kw'>counties</span> <span class='kw'>=</span> <span class='st'>"New Haven County"</span>)</div><div class='output co'>#&gt; <span class='error'>Error in open.connection(x, "rb"): HTTP error 404.</span></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Camille Seaberry.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.2.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

