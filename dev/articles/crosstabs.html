<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>crosstabs • cwi</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="crosstabs">
<meta property="og:description" content="cwi">
<meta property="og:image" content="https://CT-Data-Haven.github.io/cwi/logo.png">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cwi</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.1.3.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/acs-updates.html">ACS updates</a>
    </li>
    <li>
      <a href="../articles/basic-workflow.html">Basic workflow</a>
    </li>
    <li>
      <a href="../articles/crosstabs.html">crosstabs</a>
    </li>
    <li>
      <a href="../articles/shapefiles.html">Shapefiles</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/CT-Data-Haven/cwi/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="crosstabs_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>crosstabs</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/CT-Data-Haven/cwi/blob/master/vignettes/crosstabs.Rmd"><code>vignettes/crosstabs.Rmd</code></a></small>
      <div class="hidden name"><code>crosstabs.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://stringr.tidyverse.org">stringr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/CT-Data-Haven/cwi">cwi</a></span><span class="op">)</span></code></pre></div>
<p>This is a quick look at using the crosstab-related functions being finished up for what will likely be <code>cwi</code> v.0.2.0. There are 3 test files of crosstabs that ship with this package for internal testing and illustration. This vignette recreates the data in the <code>cws_demo</code> dataset.</p>
<p><code>read_xtabs</code> reads a crosstab file, but keeps it ugly—you can then transform it into a ready-for-analysis data frame with <code>xtab2df</code>. Below all the survey data, the file has a table of weights. It’s hard to know where that table might be and how to separate it from the data tables. <code>read_xtabs</code> reads until a marker that distinguishes between the data and the weights; <code>read_weights</code> reads everything below that marker.</p>
<p>The data for the first question looks like this:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">xtab_in</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_xtabs.html">read_xtabs</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span><span class="op">(</span><span class="st">"extdata/test_xtab2015.xlsx"</span>, package <span class="op">=</span> <span class="st">"cwi"</span><span class="op">)</span>, year <span class="op">=</span> <span class="fl">2015</span><span class="op">)</span>

<span class="va">xtab_in</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">7</span>, <span class="op">]</span>
<span class="co">#&gt; # A tibble: 7 x 26</span>
<span class="co">#&gt;   x1     x2    x3    x4    x5    x6    x7    x8    x9    x10   x11   x12   x13  </span>
<span class="co">#&gt;   &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;</span>
<span class="co">#&gt; 1 Q1. A… &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt; </span>
<span class="co">#&gt; 2 &lt;NA&gt;   &lt;NA&gt;  &lt;NA&gt;  Gend… &lt;NA&gt;  Age   &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  Race… &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt; </span>
<span class="co">#&gt; 3 &lt;NA&gt;   Conn… Grea… M     F     18-34 35-49 50-64 65+   White Blac… Hisp… Other</span>
<span class="co">#&gt; 4 Yes    0.82  0.82  0.8   0.84  0.85  0.77  0.83  0.86  0.84  0.8   0.78  0.72 </span>
<span class="co">#&gt; 5 No     0.17  0.17  0.18  0.15  0.14  0.22  0.16  0.13  0.15  0.19  0.21  0.24 </span>
<span class="co">#&gt; 6 Don't… 0.01  0.01  0.01  0.01  0.01  0.01  0.01  0.01  0.01  0.01  0.01  0.04 </span>
<span class="co">#&gt; 7 Refus… 0     0     0     0     0     0     0     0     0     0     0     0    </span>
<span class="co">#&gt; # … with 13 more variables: x14 &lt;chr&gt;, x15 &lt;chr&gt;, x16 &lt;chr&gt;, x17 &lt;chr&gt;,</span>
<span class="co">#&gt; #   x18 &lt;chr&gt;, x19 &lt;chr&gt;, x20 &lt;chr&gt;, x21 &lt;chr&gt;, x22 &lt;chr&gt;, x23 &lt;chr&gt;,</span>
<span class="co">#&gt; #   x24 &lt;chr&gt;, x25 &lt;chr&gt;, x26 &lt;chr&gt;</span></code></pre></div>
<p>Reshape the crosstabs into something you’d actually want to work with using <code>xtab2df</code>. That snippet from the first chunk now looks like this (for the sake of space, just the overall values and values by income):</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cws</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/xtab2df.html">xtab2df</a></span><span class="op">(</span><span class="va">xtab_in</span><span class="op">)</span>

<span class="va">cws</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">code</span> <span class="op">==</span> <span class="st">"Q8"</span>, <span class="va">category</span> <span class="op">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Greater New Haven"</span>, <span class="st">"Income"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 56 x 6</span>
<span class="co">#&gt;    code  question                          category    group     response  value</span>
<span class="co">#&gt;    &lt;chr&gt; &lt;chr&gt;                             &lt;chr&gt;       &lt;chr&gt;     &lt;chr&gt;     &lt;dbl&gt;</span>
<span class="co">#&gt;  1 Q8    Do you have access to a car when… Greater Ne… Greater … Very oft…  0.82</span>
<span class="co">#&gt;  2 Q8    Do you have access to a car when… Income      &lt;$15K     Very oft…  0.43</span>
<span class="co">#&gt;  3 Q8    Do you have access to a car when… Income      $15K-$30K Very oft…  0.76</span>
<span class="co">#&gt;  4 Q8    Do you have access to a car when… Income      $30K-$50K Very oft…  0.85</span>
<span class="co">#&gt;  5 Q8    Do you have access to a car when… Income      $50K-$75K Very oft…  0.93</span>
<span class="co">#&gt;  6 Q8    Do you have access to a car when… Income      $75K-$10… Very oft…  0.92</span>
<span class="co">#&gt;  7 Q8    Do you have access to a car when… Income      $100K-$2… Very oft…  0.96</span>
<span class="co">#&gt;  8 Q8    Do you have access to a car when… Income      $200K+    Very oft…  0.97</span>
<span class="co">#&gt;  9 Q8    Do you have access to a car when… Greater Ne… Greater … Fairly o…  0.04</span>
<span class="co">#&gt; 10 Q8    Do you have access to a car when… Income      &lt;$15K     Fairly o…  0.09</span>
<span class="co">#&gt; # … with 46 more rows</span></code></pre></div>
<p>Say we want to collapse those income brackets into just 3 groups. For that, use the weights table…and fix the group labels in the weights table to match the ones from the data (I’m only doing this for income, but education often needs reconciling as well). Obviously there won’t be weights for the total group; in doing weighted means, the easiest fix is to replace NAs with 1. (FYI, groups Yes and No correspond to the category of having children in the household.)</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">wts_in</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_xtabs.html">read_weights</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span><span class="op">(</span><span class="st">"extdata/test_xtab2015.xlsx"</span>, package <span class="op">=</span> <span class="st">"cwi"</span><span class="op">)</span><span class="op">)</span>
<span class="va">wts_in</span>
<span class="co">#&gt; # A tibble: 23 x 2</span>
<span class="co">#&gt;    group                  weight</span>
<span class="co">#&gt;    &lt;chr&gt;                   &lt;dbl&gt;</span>
<span class="co">#&gt;  1 Male                    0.47 </span>
<span class="co">#&gt;  2 Female                  0.53 </span>
<span class="co">#&gt;  3 18 to 34                0.292</span>
<span class="co">#&gt;  4 35 to 49                0.244</span>
<span class="co">#&gt;  5 50 to 64                0.236</span>
<span class="co">#&gt;  6 65 and older            0.173</span>
<span class="co">#&gt;  7 White                   0.727</span>
<span class="co">#&gt;  8 African American/Black  0.158</span>
<span class="co">#&gt;  9 Hispanic                0.109</span>
<span class="co">#&gt; 10 Other                   0.103</span>
<span class="co">#&gt; # … with 13 more rows</span>

<span class="va">wts</span> <span class="op">&lt;-</span> <span class="va">wts_in</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>group <span class="op">=</span> <span class="va">group</span> <span class="op">%&gt;%</span>
           <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_replace.html">str_replace</a></span><span class="op">(</span><span class="st">"(?&lt;=\\d) to (?=[\\$\\d])"</span>, <span class="st">"-"</span><span class="op">)</span> <span class="op">%&gt;%</span>
           <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_replace.html">str_replace_all</a></span><span class="op">(</span><span class="st">",000"</span>, <span class="st">"K"</span><span class="op">)</span> <span class="op">%&gt;%</span>
           <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_replace.html">str_replace</a></span><span class="op">(</span><span class="st">"Less than (?=\\$)"</span>, <span class="st">"&lt;"</span><span class="op">)</span> <span class="op">%&gt;%</span>
           <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_replace.html">str_replace</a></span><span class="op">(</span><span class="st">" or more"</span>, <span class="st">"+"</span><span class="op">)</span><span class="op">)</span> 

<span class="va">income_lvls</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
  <span class="st">"&lt;$30K"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"&lt;$15K"</span>, <span class="st">"$15K-$30K"</span><span class="op">)</span>,
  <span class="st">"$30K-$100K"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"$30K-$50K"</span>, <span class="st">"$50K-$75K"</span>, <span class="st">"$75K-$100K"</span><span class="op">)</span>,
  <span class="st">"$100K+"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"$100K-$200K"</span>, <span class="st">"$200K+"</span><span class="op">)</span>
<span class="op">)</span>

<span class="va">cws</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">code</span> <span class="op">==</span> <span class="st">"Q8"</span>, <span class="va">category</span> <span class="op">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Greater New Haven"</span>, <span class="st">"Income"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span><span class="va">wts</span>, by <span class="op">=</span> <span class="st">"group"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html">across</a></span><span class="op">(</span><span class="va">category</span><span class="op">:</span><span class="va">response</span>, <span class="fu">forcats</span><span class="fu">::</span><span class="va"><a href="https://forcats.tidyverse.org/reference/as_factor.html">as_factor</a></span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/replace_na.html">replace_na</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>weight <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/collapse_n_wt.html">collapse_n_wt</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">code</span>, <span class="va">category</span><span class="op">:</span><span class="va">response</span><span class="op">)</span>, .lvls <span class="op">=</span> <span class="va">income_lvls</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 28 x 5</span>
<span class="co">#&gt;    code  category          group             response      value</span>
<span class="co">#&gt;    &lt;chr&gt; &lt;fct&gt;             &lt;fct&gt;             &lt;fct&gt;         &lt;dbl&gt;</span>
<span class="co">#&gt;  1 Q8    Greater New Haven Greater New Haven Very often   0.82  </span>
<span class="co">#&gt;  2 Q8    Greater New Haven Greater New Haven Fairly often 0.04  </span>
<span class="co">#&gt;  3 Q8    Greater New Haven Greater New Haven Sometimes    0.06  </span>
<span class="co">#&gt;  4 Q8    Greater New Haven Greater New Haven Almost never 0.02  </span>
<span class="co">#&gt;  5 Q8    Greater New Haven Greater New Haven Never at all 0.06  </span>
<span class="co">#&gt;  6 Q8    Greater New Haven Greater New Haven Don't know   0     </span>
<span class="co">#&gt;  7 Q8    Greater New Haven Greater New Haven Refused      0     </span>
<span class="co">#&gt;  8 Q8    Income            &lt;$30K             Very often   0.597 </span>
<span class="co">#&gt;  9 Q8    Income            &lt;$30K             Fairly often 0.0697</span>
<span class="co">#&gt; 10 Q8    Income            &lt;$30K             Sometimes    0.124 </span>
<span class="co">#&gt; # … with 18 more rows</span></code></pre></div>
<p>We generally want to remove non-answers (don’t know, refused) from the denominator, then rescale the response values. Usually those non-answers only account for 1 or 2 percentage points and don’t change values much, but occasionally they’re large enough to make a noticeable difference. For consistency, I always remove non-answers, even when they’re small.</p>
<p>With non-answers:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cws</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">code</span> <span class="op">==</span> <span class="st">"Q1"</span>, <span class="va">category</span> <span class="op">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Greater New Haven"</span>, <span class="st">"Gender"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 12 x 6</span>
<span class="co">#&gt;    code  question                        category      group      response value</span>
<span class="co">#&gt;    &lt;chr&gt; &lt;chr&gt;                           &lt;chr&gt;         &lt;chr&gt;      &lt;chr&gt;    &lt;dbl&gt;</span>
<span class="co">#&gt;  1 Q1    Are you satisfied with the cit… Greater New … Greater N… Yes       0.82</span>
<span class="co">#&gt;  2 Q1    Are you satisfied with the cit… Gender        M          Yes       0.8 </span>
<span class="co">#&gt;  3 Q1    Are you satisfied with the cit… Gender        F          Yes       0.84</span>
<span class="co">#&gt;  4 Q1    Are you satisfied with the cit… Greater New … Greater N… No        0.17</span>
<span class="co">#&gt;  5 Q1    Are you satisfied with the cit… Gender        M          No        0.18</span>
<span class="co">#&gt;  6 Q1    Are you satisfied with the cit… Gender        F          No        0.15</span>
<span class="co">#&gt;  7 Q1    Are you satisfied with the cit… Greater New … Greater N… Don't k…  0.01</span>
<span class="co">#&gt;  8 Q1    Are you satisfied with the cit… Gender        M          Don't k…  0.01</span>
<span class="co">#&gt;  9 Q1    Are you satisfied with the cit… Gender        F          Don't k…  0.01</span>
<span class="co">#&gt; 10 Q1    Are you satisfied with the cit… Greater New … Greater N… Refused   0   </span>
<span class="co">#&gt; 11 Q1    Are you satisfied with the cit… Gender        M          Refused   0   </span>
<span class="co">#&gt; 12 Q1    Are you satisfied with the cit… Gender        F          Refused   0</span></code></pre></div>
<p>Without (using <code>sub_nonanswers</code> defaults):</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cws</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">code</span> <span class="op">==</span> <span class="st">"Q1"</span>, <span class="va">category</span> <span class="op">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Greater New Haven"</span>, <span class="st">"Gender"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/sub_nonanswers.html">sub_nonanswers</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 6 x 6</span>
<span class="co">#&gt;   code  question                         category     group       response value</span>
<span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt;                            &lt;chr&gt;        &lt;chr&gt;       &lt;fct&gt;    &lt;dbl&gt;</span>
<span class="co">#&gt; 1 Q1    Are you satisfied with the city… Greater New… Greater Ne… Yes      0.828</span>
<span class="co">#&gt; 2 Q1    Are you satisfied with the city… Greater New… Greater Ne… No       0.172</span>
<span class="co">#&gt; 3 Q1    Are you satisfied with the city… Gender       M           Yes      0.808</span>
<span class="co">#&gt; 4 Q1    Are you satisfied with the city… Gender       M           No       0.182</span>
<span class="co">#&gt; 5 Q1    Are you satisfied with the city… Gender       F           Yes      0.848</span>
<span class="co">#&gt; 6 Q1    Are you satisfied with the city… Gender       F           No       0.152</span></code></pre></div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Camille Seaberry.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
